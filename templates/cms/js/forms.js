function isCpf(e){var t,a,n;if(11!=e.length||"00000000000"==e||"11111111111"==e||"22222222222"==e||"33333333333"==e||"44444444444"==e||"55555555555"==e||"66666666666"==e||"77777777777"==e||"88888888888"==e||"99999999999"==e)return!1;for(t=0,n=1;9>=n;n++)t+=Math.floor(e.charAt(n-1))*(11-n);if(a=11-(t-11*Math.floor(t/11)),(10==a||11==a)&&(a=0),a!=Math.floor(e.charAt(9)))return!1;for(t=0,n=1;10>=n;n++)t+=e.charAt(n-1)*(12-n);return a=11-(t-11*Math.floor(t/11)),(10==a||11==a)&&(a=0),a!=Math.floor(e.charAt(10))?!1:!0}function isCnpj(e){if(""==e)return!1;if(14!=e.length)return!1;if("00000000000000"==e||"11111111111111"==e||"22222222222222"==e||"33333333333333"==e||"44444444444444"==e||"55555555555555"==e||"66666666666666"==e||"77777777777777"==e||"88888888888888"==e||"99999999999999"==e)return!1;for(tamanho=e.length-2,numeros=e.substring(0,tamanho),digitos=e.substring(tamanho),soma=0,pos=tamanho-7,i=tamanho;i>=1;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);if(resultado=soma%11<2?0:11-soma%11,resultado!=digitos.charAt(0))return!1;for(tamanho+=1,numeros=e.substring(0,tamanho),soma=0,pos=tamanho-7,i=tamanho;i>=1;i--)soma+=numeros.charAt(tamanho-i)*pos--,pos<2&&(pos=9);return resultado=soma%11<2?0:11-soma%11,resultado!=digitos.charAt(1)?!1:!0}function isCpfCnpj(e){var t=!1,a=e;return a=String(a).replace(/\D/g,""),a.length>11?isCnpj(a)&&(t=!0):isCpf(a)&&(t=!0),t}function ufToState(e){switch(e){case"AC":return"ACRE";case"AL":return"ALAGOAS";case"AP":return"AMAPÁ";case"AM":return"AMAZONAS";case"BA":return"BAHIA";case"CE":return"CEARÁ";case"DF":return"DISTRITO FEDERAL";case"ES":return"ESPÍRITO SANTO";case"GO":return"GOIÁS";case"MA":return"MARANHÃO";case"MT":return"MATO GROSSO";case"MS":return"MATO GROSSO DO SUL";case"MG":return"MINAS GERAIS";case"PA":return"PARÁ";case"PB":return"PARAÍBA";case"PR":return"PARANÁ";case"PE":return"PERNAMBUCO";case"PI":return"PIAUÍ";case"RJ":return"RIO DE JANEIRO";case"RN":return"RIO GRANDE DO NORTE";case"RS":return"RIO GRANDE DO SUL";case"RO":return"RONDÔNIA";case"RR":return"RORAIMA";case"SC":return"SANTA CATARINA";case"SP":return"SÃO PAULO";case"SE":return"SERGIPE";case"TO":return"TOCANTINS";default:return e}}jQuery(function(){var t=(jQuery("#baseurl").val(),navigator.userAgent),a=t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&-1===t.indexOf("Chrome");a&&jQuery("select.form-control").removeClass("form-control").css("width","100%"),jQuery(".field-required input, .field-required select, .field-required textarea").each(function(){jQuery(this).addClass("required")});var n=".no-drop input, input.no-drop",i=".no-paste input, input.no-paste",r=".set-focus input, input.set-focus",o=".upper input, input.upper",s=".field-cpf input, input.field-cpf",u=".field-cnpj input, input.field-cnpj",l=".auto-tab select, select.auto-tab",c=".auto-tab input:checkbox, input:checkbox.auto-tab, .auto-tab input:radio, input:radio.auto-tab",d=".field-phone input, input.field-phone,.field-mobile input, input.field-mobile",h=".field-cep input, input.field-cep",f=".field-cpf input, input.field-cpf, .field-cnpj input, input.field-cnpj, .field-cep input, input.field-cep",p=".field-date input, input.field-date",m=".field-time input, input.field-time",v=".field-date-time input, input.field-date-time",g=".field-price input, input.field-price",y=".field-nonumber input, input.field-nonumber",j=".no-special-character input, input.no-special-character",b=".no-blank-space input, input.no-blank-space",Q=".no-accents input, input.no-accents",x=".field-integer input, input.field-integer",k=".field-float input, input.field-float",A=".field-number input, input.field-number",C=".field-state input, input.field-state",S=".field-country input, input.field-country",D=".field-uf select, select.field-uf",N=".field-city input, input.field-city",T=".field-cidade input, input.field-cidade",R=".field-cep.field-search input, input.field-cep.field-search",F=".field-address input, input.field-address",O=".field-address-number input, input.field-address-number",P=".field-district input, input.field-district";window.validaField=function(e,t){return setElement(e,t)},window.noDrop=function(e){e=validaField(e,n),e.live("drop",function(e){e.preventDefault()})},window.noPaste=function(e){e=validaField(e,i),e.live("paste",function(e){e.preventDefault()})},window.setFocus=function(e){e=validaField(e,r),e.focus()},window.setUppercase=function(e){e=validaField(e,o),e.each(function(){var e=jQuery(this);e.val(e.val().toUpperCase()),e.keyup(function(){var e=jQuery(this).caret();jQuery(this).val(jQuery(this).val().toUpperCase()),jQuery(this).caret(e.begin)}),e.change(function(){jQuery(this).val(jQuery(this).val().toUpperCase())})})},window.setLowercase=function(e){e=validaField(e,o),e.each(function(){var e=jQuery(this);e.val(e.val().toUpperCase()),e.keyup(function(){var e=jQuery(this).caret();jQuery(this).val(jQuery(this).val().toLowerCase()),jQuery(this).caret(e.begin)}),e.change(function(){jQuery(this).val(jQuery(this).val().toLowerCase())})})},jQuery.fn.autoTab=function(){return this.each(function(){var e=jQuery(this).parents("form:eq(0),body").find("button,input,textarea,select"),t=e.index(this);return t>-1&&t+1<e.length&&e.eq(t+1).focus(),!1})},window.selectAutoTab=function(e,t){e=validaField(e,l),e.each(function(){if(("null"==typeof t||"undefined"==typeof t)&&(this.target=jQuery("#"+jQuery(this).data("target"))),this.target.length){var e=jQuery(this);e.hasClass(".no-chosen")?!1:!0;e.change(function(){var e=jQuery(this).find("option:selected"),t=e.data("targetDisabled"),a=e.data("targetDisplay"),n=e.data("targetValue"),i=this.target;this.target.length?(null!=t&&toggleDisabled(this.target,t),null!=a&&toggleDisplay(this.target,a),this.target.is("input")?(setTimeout(function(){i.focus()},1),null!=n&&"undefined"!=n&&this.target.val(n)):(setTimeout(function(){i.find("input").focus()},1),null!=n&&"undefined"!=n&&this.target.find("input").val(n))):jQuery(this).autoTab()})}})},window.checkAutoTab=function(e,t){e=validaField(e,c),e.each(function(){if(("null"==typeof t||"undefined"==typeof t)&&(this.target=jQuery("#"+jQuery(this).data("target"))),this.target.length){var e=jQuery(this),a=jQuery(this).data("targetDisabled"),n=jQuery(this).data("targetDisplay"),i=jQuery(this).data("targetValue");e.change(function(){jQuery(this).is(":checked")?this.target.length?(null!=a&&toggleDisabled(this.target,a),null!=n&&toggleDisplay(this.target,n),this.target.is("input")?(this.target.focus(),null!=i&&"undefined"!=i&&this.target.val(i)):(this.target.find("input").focus(),null!=i&&"undefined"!=i&&this.target.find("input").val(i))):jQuery(this).autoTab():this.target.length&&(null!=a&&toggleDisabled(this.target,a?!1:!0),null!=n&&toggleDisplay(this.target),this.target.is("input")&&(null!=i&&"undefined"!=i?this.target.val(i):null!=i&&"undefined"!=i&&this.target.find("input").val(i)))})}})},window.toggleDisplay=function(e,t){t=null==t||"undefined"==t||0==t||"false"==t?!1:!0,e.hasClass("hide")&&t?(e.removeClass("hide"),e.show()):t?e.show():e.hide()},window.toggleDisabled=function(e,t){t=null==t||"undefined"==t||0==t||"false"==t?!1:!0,e.prop("disabled",t)},jQuery.mask.definitions.x="[A-Za-z0-9 +#/@-]",window.setCPF=function(e){e=validaField(e,s);var t="CPF INVÁLIDO";e.each(function(){var e=jQuery(this),a=e.data("width");null!=a&&e.css("width",a),e.css({"min-width":"9.5em","max-width":"100%"}),e.mask("?999.999.999-99",{completed:function(){this.val().replace(/\D/g,"").length>0&&!isCpfCnpj(this.val())?(jQuery(".cpf-error").remove(),jQuery(this).addClass("error").after('<span class="cpf-error error">'+t+"</span>")):jQuery(this).autoTab()}}).on("blur",function(e){jQuery(this).val().replace(/\D/g,"").length>0&&!isCpfCnpj(jQuery(this).val())&&(jQuery(".cpf-error").remove(),jQuery(this).addClass("error").after('<span class="cpf-error error">'+t+"</span>"),jQuery(this).val(""),setCPF(jQuery(this))),jQuery(this).removeClass("error"),jQuery(this).next(".error").hide()})})},window.setCNPJ=function(e){e=validaField(e,u);var t="CNPJ INVÁLIDO!<br />Informe o CNPJ com apenas 14 dígitos.<br />Ignore, se houver, o dígito 0 (zero) inicial";e.each(function(){var e=jQuery(this),a=e.data("width");null!=a&&e.css("width",a),e.css({"min-width":"12em","max-width":"100%"}),e.mask("?99.999.999/9999-99",{completed:function(){jQuery(this).val().replace(/\D/g,"").length>0&&!isCpfCnpj(jQuery(this).val())?(jQuery(".cnpj-error").remove(),jQuery(this).addClass("error").after('<span class="cnpj-error error">'+t+"</span>")):jQuery(this).autoTab()}}).on("blur",function(e){jQuery(this).val().replace(/\D/g,"").length>0&&!isCpfCnpj(jQuery(this).val())&&(jQuery(".cnpj-error").remove(),jQuery(this).addClass("error").after('<span class="cnpj-error error">'+t+"</span>"),jQuery(this).val(""),setCNPJ(jQuery(this))),jQuery(this).removeClass("error"),jQuery(this).next(".error").hide()})})},window.setPhone=function(e){e=validaField(e,d);var t="(99) 99999999?9",a="?xxxxxxxxxxxxxxxxxx",n="Clique para remover a máscara<br />(99) 999999999<br />Isso permitirá inserir números<br />formatos diferentes",i="Clique para adicionar a máscara<br />(99) 999999999",r="A máscara poderá alterar o formato atual. Isso pode ocasionar perda de informação.\nTem certeza que deseja utilizar a máscara?",o="15em",s="12em";e.length&&e.each(function(){var u=jQuery(this),l=0,c=u.data("width");null!=c&&e.css("width",c),u.wrap('<div class="input-group" style="width:'+c+"; min-width:"+s+'; max-width:100%;"></div>'),u.css({width:"100%"}),""==u.val()||u.val().indexOf("(")>=0?u.mask(t,{completed:function(){u.autoTab()}}):(u.unmask(t),u.mask(a,{placeholder:" "}),l=1),l?(u.addClass("no-masked"),u.parents("div.input-group").css({width:o,"max-width":"100%"}),u.after('<span class="input-group-btn"><a class="toggle-mask btn btn-danger strong" title="'+i+'">#</a></span></div>')):(u.removeClass("no-masked"),u.hasClass("form-control")||u.addClass("form-control"),u.parents("div.input-group").css({width:c,"min-width":s,"max-width":"100%"}),u.after('<span class="input-group-btn"><a class="toggle-mask btn btn-info strong" title="'+n+'">#</a></span></div>')),jQuery(".toggle-mask").tooltip({container:"body",html:!0}),u.next("span").find(".btn").click(function(){jQuery(this).hasClass("btn-info")?(jQuery(this).parents("div.input-group").css({width:o,"max-width":"100%"}).find("input").addClass("no-masked").mask(a,{placeholder:""}).focus(),jQuery(this).removeClass("btn-info").addClass("btn-danger").attr("data-original-title",i).tooltip("fixTitle")):confirm(r)&&(jQuery(this).parents("div.input-group").css({width:c,"min-width":s,"max-width":"100%"}).find("input").removeClass("no-masked").mask(t,{completed:function(){jQuery(this).autoTab()}}).focus(),jQuery(this).removeClass("btn-danger").addClass("btn-info").attr("data-original-title",n).tooltip("fixTitle"))})})},window.setCEP=function(e){e=validaField(e,h),e.each(function(){var e=jQuery(this),t=e.data("width");null!=t&&e.css("width",t),e.css({"min-width":"7.2em","max-width":"100%"}),e.mask("?99999-999",{completed:function(){jQuery(this).autoTab()}})})},jQuery(f).bind({paste:function(){jQuery(this).select()}}),window.setDate=function(e){e=validaField(e,p),e.each(function(){var t=jQuery(this);""!=t.val()&&t.val(dateFormat(t.val()));var a=t.data("mindate"),n=t.data("maxdate"),i=t.data("yearRange"),r=t.data("width");null!=r&&t.css("width",r),e.css({"min-width":"8.5em","max-width":"100%"}),t.mask("?99/99/9999",{completed:function(){t.datepicker("hide"),t.autoTab()}});var o="dd/mm/yy",s=["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],u=["D","S","T","Q","Q","S","S","D"],l=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],c=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],d=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],h="Próximo",f="Anterior";t.datepicker({dateFormat:o,dayNames:s,dayNamesMin:u,dayNamesShort:l,monthNames:c,monthNamesShort:d,nextText:h,prevText:f,changeMonth:!0,changeYear:!0,onSelect:function(e,a){setTimeout(function(){t.autoTab()},100)}}),null!=a&&t.datepicker("option","minDate",a),null!=n&&t.datepicker("option","maxDate",n),null!=i&&t.datepicker("option","yearRange",i),t.data("convert")&&dateConvert(t.parents("form"),t)})},window.dateFormat=function(e){if(4==e.indexOf("-")){var t=e.split("-");return t[2]+"/"+t[1]+"/"+t[0]}return e},window.dateConvert=function(e,t){e.on("submit",function(e){var a=t.val().split("/");t.val(a[2]+"-"+a[1]+"-"+a[0])})},window.setTime=function(e){e=validaField(e,m),e.each(function(){var e=jQuery(this).data("width"),t=jQuery(this).data("seconds");t?(jQuery(this).mask("?99:99:99",{completed:function(){jQuery(this).autoTab()}}),w="6em"):(jQuery(this).mask("?99:99",{completed:function(){jQuery(this).autoTab()}}),w="4.5em"),null!=e&&jQuery(this).css("width",e),jQuery(this).css({"min-width":w,"max-width":"100%"})})},window.setDateTime=function(e){e=validaField(e,v),e.each(function(){var e=jQuery(this).data("width"),t=jQuery(this).data("seconds");t?(jQuery(this).mask("?99/99/9999 99:99:99",{completed:function(){jQuery(this).autoTab()}}),w="12em"):(jQuery(this).mask("?99/99/9999 99:99",{completed:function(){jQuery(this).autoTab()}}),w="10em"),null!=e&&jQuery(this).css("width",e),jQuery(this).css({"min-width":w,"max-width":"100%"})})},window.setPrice=function(e){e=validaField(e,g),e.length&&e.each(function(){obj=jQuery(this);var e=obj.data("width");null!=e&&obj.css("width",e),obj.css({"min-width":"8.5em","max-width":"100%"});var t=2;obj.data("decimal")?t=obj.data("decimal"):obj.hasClass("no-cents")||"0"==obj.data("decimal")?t=0:obj.attr("placeholder","0,00");var a="us"==obj.data("format")?",":".",n="us"==obj.data("format")?".":",";obj.priceFormat({prefix:"",centsLimit:t,thousandsSeparator:a,centsSeparator:n,limit:12}),obj.data("convert")&&priceNormalize(obj.parents("form"),obj,!0),noDrop(obj)})},window.priceNormalize=function(e,t,a){e.on("submit",function(e){t.val(t.val().replace(/\./g,"")),a&&t.val(t.val().replace(",","."))})},window.setNoNumber=function(e){e=validaField(e,y),e.on("keypress keyup blur",function(e){jQuery(this).val(jQuery(this).val().replace(/[0-9]/g,""))})},window.setNoSpecialCharacter=function(e){e=validaField(e,j),e.on("keypress keyup blur",function(e){jQuery(this).val(jQuery(this).val().replace(/[^a-zA-Z0-9áéíóúÁÉÍÓÚâêîôûÂÊÎÔÛãõÃÕàÀçÇ ]/g,""))})},window.setNoBlankSpace=function(e){e=validaField(e,b),e.on("keypress keyup blur",function(e){32==e.which&&e.preventDefault()})},window.setNoAccents=function(e){e=validaField(e,Q),e.on("keypress keyup blur",function(e){jQuery(this).val(jQuery(this).val().replace(/[áéíóúÁÉÍÓÚâêîôûÂÊÎÔÛãõÃÕàÀçÇ´`~^]/g,""))})},window.setInteger=function(e){e=validaField(e,x),e.on("keypress keyup blur",function(e){jQuery(this).val(jQuery(this).val().replace(/[^\d]/g,"")),e.which>65&&e.preventDefault()})},window.setFloat=function(t){t=validaField(t,k),t.on("keypress keyup blur",function(t){jQuery(this).val(jQuery(this).val().replace(/[^0-9\.]/g,"")),e.which>65&&e.preventDefault()})},window.setNumeric=function(e,t){switch(setInteger(),setFloat(),e=validaField(e,A),t){case"float":setFloat(e);break;default:setInteger(e)}},jQuery(T).autocomplete({delay:200,source:function(e,t){jQuery.ajax({url:"https://envolute.com/cdn/sources/db.cidades.json.php",dataType:"jsonp",data:{cod:jQuery(".field-uf").val(),search:e.term},minLength:0,success:function(e){t(jQuery.map(e,function(e){return{label:e.name,value:e.name}}))}})},search:function(e,t){jQuery(this).addClass("autocomplete-load")},open:function(e,t){jQuery(this).removeClass("autocomplete-load")},close:function(e,t){jQuery(this).removeClass("autocomplete-load")}}),jQuery(R).length&&(jQuery.getScript("https://envolute.com/cdn/sources/consulta_cep.js",function(){jQuery(R).blur(function(){if(9==jQuery(this).val().replace(/\_/g,"").length){var e=jQuery(S),t=jQuery(D),a=jQuery(C),n=jQuery(T),i=jQuery(N),r=jQuery(P),o=jQuery(F),s=jQuery(O);s.focus(),getEndereco(jQuery(this),t,n,r,o,i,a,e),setTimeout(function(){jQuery(F,O,P,T,N,D,C,S).trigger("change"),t.next(".chzn-container, .chosen-container").length&&(t.trigger("liszt:updated"),t.trigger("chosen:updated"))},1e3)}})}),jQuery(R).on("paste",function(e){setTimeout(function(){9==e.target.value.replace(/\_/g,"").length&&jQuery(R).val(e.target.value).trigger("blur")},100)})),jQuery(C).length&&jQuery(C).on("change",function(){jQuery(this).val(ufToState(jQuery(this).val()))}),jQuery(S).length&&jQuery(S).on("change",function(){"BRAZIL"==jQuery(this).val()&&jQuery(this).val("BRASIL")}),window.setFormDefinitions=function(){noDrop(),noPaste(),setFocus(),setUppercase(),setLowercase(),setCPF(),setCNPJ(),selectAutoTab(),checkAutoTab(),setPhone(),setTime(),setDateTime(),setCEP(),setPrice(),setDate(),setNoNumber(),setNoSpecialCharacter(),setNoBlankSpace(),setNoAccents(),setNumeric()}}),jQuery(window).load(function(){setFormDefinitions()}),function(e){var t=function(t){var a=null,n=e("#"+t),i=e("input[name="+t+"]");return n.length?a=n:void 0!=i&&(a=i),a};e.fn.autotab_magic=function(t){for(var a=0;a<this.length;a++){var n=a+1,i=a-1;a>0&&n<this.length?e(this[a]).autotab({target:e(this[n]),previous:e(this[i])}):a>0?e(this[a]).autotab({previous:e(this[i])}):e(this[a]).autotab({target:e(this[n])}),(null!=t&&isNaN(t)&&t==e(this[a]).attr("id")||!isNaN(t)&&t==a)&&e(this[a]).focus()}return this},e.fn.autotab_filter=function(t){var a={format:"all",uppercase:!1,lowercase:!1,nospace:!1,pattern:null};"string"==typeof t||"function"==typeof t?a.format=t:e.extend(a,t);for(var n=0;n<this.length;n++)e(this[n]).bind("keyup",function(e){var t=this.value;switch(a.format){case"text":var n=new RegExp("[0-9]+","g");t=t.replace(n,"");break;case"alpha":var n=new RegExp("[^a-zA-Z]+","g");t=t.replace(n,"");break;case"number":case"numeric":var n=new RegExp("[^0-9]+","g");t=t.replace(n,"");break;case"alphanumeric":var n=new RegExp("[^0-9a-zA-Z]+","g");t=t.replace(n,"");break;case"custom":var n=new RegExp(a.pattern,"g");t=t.replace(n,"");break;case"all":default:if("function"==typeof a.format)var t=a.format(t)}if(a.nospace){var n=new RegExp("[ ]+","g");t=t.replace(n,"")}a.uppercase&&(t=t.toUpperCase()),a.lowercase&&(t=t.toLowerCase()),t!=this.value&&(this.value=t)})},e.fn.autotab=function(a){var n={format:"all",maxlength:2147483647,uppercase:!1,lowercase:!1,nospace:!1,target:null,previous:null,pattern:null};e.extend(n,a),"string"==typeof n.target&&(n.target=t(n.target)),"string"==typeof n.previous&&(n.previous=t(n.previous));var i=e(this).attr("maxlength");return 2147483647==n.maxlength&&2147483647!=i?n.maxlength=i:n.maxlength>0?e(this).attr("maxlength",n.maxlength):n.target=null,"all"!=n.format&&e(this).autotab_filter(n),e(this).bind("keydown",function(e){8==e.which&&0==this.value.length&&n.previous&&n.previous.focus().val(n.previous.val())}).bind("keyup",function(t){var a=[8,9,16,17,18,19,20,27,33,34,35,36,37,38,39,40,45,46,144,145];if(8!=t.which){var i=e(this).val();-1==e.inArray(t.which,a)&&i.length==n.maxlength&&n.target&&n.target.focus()}})}}(jQuery),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var a,n=t()+".mask",i=navigator.userAgent,r=/iphone/i.test(i),o=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var a;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(a=this.createTextRange(),a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,i){var s,u,l,c,d,h;return!t&&this.length>0?(s=e(this[0]),s.data(e.mask.dataName)()):(i=e.extend({placeholder:e.mask.placeholder,completed:null},i),u=e.mask.definitions,l=[],c=h=t.length,d=null,e.each(t.split(""),function(e,t){"?"==t?(h--,c=e):u[t]?(l.push(RegExp(u[t])),null===d&&(d=l.length-1)):l.push(null)}),this.trigger("unmask").each(function(){function s(e){for(;h>++e&&!l[e];);return e}function f(e){for(;--e>=0&&!l[e];);return e}function p(e,t){var a,n;if(!(0>e)){for(a=e,n=s(t);h>a;a++)if(l[a]){if(!(h>n&&l[a].test(Q[n])))break;Q[a]=Q[n],Q[n]=i.placeholder,n=s(n)}j(),w.caret(Math.max(d,e))}}function m(e){var t,a,n,r;for(t=e,a=i.placeholder;h>t;t++)if(l[t]){if(n=s(t),r=Q[t],Q[t]=a,!(h>n&&l[n].test(r)))break;a=r}}function v(e){var t,a,n,i=e.which;8===i||46===i||r&&127===i?(t=w.caret(),a=t.begin,n=t.end,0===n-a&&(a=46!==i?f(a):n=s(a-1),n=46===i?s(n):n),y(a,n),p(a,n-1),e.preventDefault()):27==i&&(w.val(x),w.caret(0,b()),e.preventDefault())}function g(t){var a,n,r,u=t.which,c=w.caret();t.ctrlKey||t.altKey||t.metaKey||32>u||u&&(0!==c.end-c.begin&&(y(c.begin,c.end),p(c.begin,c.end-1)),a=s(c.begin-1),h>a&&(n=String.fromCharCode(u),l[a].test(n)&&(m(a),Q[a]=n,j(),r=s(a),o?setTimeout(e.proxy(e.fn.caret,w,r),0):w.caret(r),i.completed&&r>=h&&i.completed.call(w))),t.preventDefault())}function y(e,t){var a;for(a=e;t>a&&h>a;a++)l[a]&&(Q[a]=i.placeholder)}function j(){w.val(Q.join(""))}function b(e){var t,a,n=w.val(),r=-1;for(t=0,pos=0;h>t;t++)if(l[t]){for(Q[t]=i.placeholder;pos++<n.length;)if(a=n.charAt(pos-1),l[t].test(a)){Q[t]=a,r=t;break}if(pos>n.length)break}else Q[t]===n.charAt(pos)&&t!==c&&(pos++,r=t);return e?j():c>r+1?(w.val(""),y(0,h)):(j(),w.val(w.val().substring(0,r+1))),c?t:d}var w=e(this),Q=e.map(t.split(""),function(e){return"?"!=e?u[e]?i.placeholder:e:void 0}),x=w.val();w.data(e.mask.dataName,function(){return e.map(Q,function(e,t){return l[t]&&e!=i.placeholder?e:null}).join("")}),w.attr("readonly")||w.one("unmask",function(){w.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(a);var e;x=w.val(),e=b(),a=setTimeout(function(){j(),e==t.length?w.caret(0,e):w.caret(e)},10)}).bind("blur.mask",function(){b(),w.val()!=x&&w.change()}).bind("keydown.mask",v).bind("keypress.mask",g).bind(n,function(){setTimeout(function(){var e=b(!0);w.caret(e),i.completed&&e==w.val().length&&i.completed.call(w)},0)}),b()}))}})}(jQuery),function(e){e.fn.priceFormat=function(t){var a={prefix:"US$ ",suffix:"",centsSeparator:".",thousandsSeparator:",",limit:!1,centsLimit:2,clearPrefix:!1,clearSufix:!1,allowNegative:!1,insertPlusSign:!1,clearOnEmpty:!1},t=e.extend(a,t);return this.each(function(){function a(e){f.is("input")?f.val(e):f.html(e)}function n(){return p=f.is("input")?f.val():f.html()}function i(e){for(var t="",a=0;a<e.length;a++)char_=e.charAt(a),0==t.length&&0==char_&&(char_=!1),char_&&char_.match(m)&&(b?t.length<b&&(t+=char_):t+=char_);return t}function r(e){for(;e.length<w+1;)e="0"+e;return e}function o(t,a){if(!a&&(""===t||t==o("0",!0))&&C)return"";var n=r(i(t)),s="",u=0;0==w&&(y="",l="");var l=n.substr(n.length-w,w),c=n.substr(0,n.length-w);if(n=0==w?c:c+y+l,j||""!=e.trim(j)){for(var d=c.length;d>0;d--)char_=c.substr(d-1,1),u++,u%3==0&&(char_=j+char_),s=char_+s;s.substr(0,1)==j&&(s=s.substring(1,s.length)),n=0==w?s:s+y+l}return!k||0==c&&0==l||(n=-1!=t.indexOf("-")&&t.indexOf("+")<t.indexOf("-")?"-"+n:A?"+"+n:""+n),v&&(n=v+n),g&&(n+=g),n}function s(e){var t=e.keyCode?e.keyCode:e.which,n=String.fromCharCode(t),i=!1,r=p,s=o(r+n);(t>=48&&57>=t||t>=96&&105>=t)&&(i=!0),8==t&&(i=!0),9==t&&(i=!0),13==t&&(i=!0),46==t&&(i=!0),37==t&&(i=!0),39==t&&(i=!0),!k||189!=t&&109!=t&&173!=t||(i=!0),!A||187!=t&&107!=t&&61!=t||(i=!0),i||(e.preventDefault(),e.stopPropagation(),r!=s&&a(s))}function u(){var e=n(),t=o(e);e!=t&&a(t),0==parseFloat(e)&&C&&a("")}function l(){f.val(v+n())}function c(){f.val(n()+g)}function d(){if(""!=e.trim(v)&&Q){var t=n().split(v);a(t[1])}}function h(){if(""!=e.trim(g)&&x){var t=n().split(g);a(t[0])}}var f=e(this),p="",m=/[0-9]/;p=f.is("input")?f.val():f.html();var v=t.prefix,g=t.suffix,y=t.centsSeparator,j=t.thousandsSeparator,b=t.limit,w=t.centsLimit,Q=t.clearPrefix,x=t.clearSuffix,k=t.allowNegative,A=t.insertPlusSign,C=t.clearOnEmpty;A&&(k=!0),f.bind("keydown.price_format",s),f.bind("keyup.price_format",u),f.bind("focusout.price_format",u),Q&&(f.bind("focusout.price_format",function(){d()}),f.bind("focusin.price_format",function(){l()})),x&&(f.bind("focusout.price_format",function(){h()}),f.bind("focusin.price_format",function(){c()})),n().length>0&&(u(),d(),h())})},e.fn.unpriceFormat=function(){return e(this).unbind(".price_format")},e.fn.unmask=function(){var t,a="";t=e(this).is("input")?e(this).val():e(this).html();for(var n in t)isNaN(t[n])&&"-"!=t[n]||(a+=t[n]);return a}}(jQuery);